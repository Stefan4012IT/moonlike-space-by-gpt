(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))c(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const m of n.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&c(m)}).observe(document,{childList:!0,subtree:!0});function l(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function c(t){if(t.ep)return;t.ep=!0;const n=l(t);fetch(t.href,n)}})();const g=["You arrived exactly when you were meant to.","The gravity here feels optional.","Nothing happens here, but you feel everything.","Someone dreamed of you before you existed.","This place is made of memory and static.","The stars don’t speak – they listen.","It’s always night here, but no one sleeps.","You’re not lost. You’re just early."];function v(){const e=Math.floor(Math.random()*g.length);return g[e]}const a=document.getElementById("fragment");a.textContent=v();const h=document.querySelector(".container"),f=document.getElementById("hidden-message");let r=!1;const d=document.getElementById("shift-sound");a.addEventListener("click",()=>{r||(r=!0,d.volume=.4,d==null||d.play(),document.body.classList.add("shifted"),h.classList.add("fade-out","blur"),f==null||f.classList.add("gone"),setTimeout(()=>{a.textContent="You’re now within.",h.classList.remove("blur"),setTimeout(()=>{h.classList.remove("fade-out")},100);const e=document.getElementById("echo-container"),o=document.getElementById("echo-input");if(e){e.classList.remove("hidden"),e.classList.add("visible");const l=localStorage.getItem("moonlike-echo");l&&o&&(o.value=l),o==null||o.addEventListener("input",c=>{const t=c.target.value;t.trim()===""?localStorage.removeItem("moonlike-echo"):localStorage.setItem("moonlike-echo",t)})}},2e3))});function x(){const e=document.getElementById("blackout-flash");e&&(e.style.opacity="1",setTimeout(()=>{e.style.opacity="0"},400))}function w(){const e=Math.floor(Math.random()*6e4)+3e4;setTimeout(()=>{r||x(),w()},e)}w();function M(){a.classList.add("glitch"),setTimeout(()=>{a.classList.remove("glitch")},400)}function b(){const e=Math.floor(Math.random()*2e4)+1e4;setTimeout(()=>{r||(M(),setTimeout(()=>{a.textContent=v(),b()},300))},e)}b();window.addEventListener("click",()=>{const e=document.getElementById("bg-audio");e&&e.paused&&(e.play().catch(()=>console.log("Autoplay blocked")),e.volume=.1)});const s=document.getElementById("stars"),i=s.getContext("2d");function L(){s.width=window.innerWidth,s.height=window.innerHeight}L();window.addEventListener("resize",L);const B=150,E=[];for(let e=0;e<B;e++)E.push({x:Math.random()*s.width,y:Math.random()*s.height,radius:Math.random()*1.5,alpha:Math.random(),delta:Math.random()*.02});function I(){i.clearRect(0,0,s.width,s.height);for(let e of E)e.alpha+=e.delta,(e.alpha<=0||e.alpha>=1)&&(e.delta*=-1),i.beginPath(),i.arc(e.x,e.y,e.radius,0,Math.PI*2),i.fillStyle=`rgba(255, 255, 255, ${e.alpha})`,i.fill();for(let e=0;e<u.length;e++){const o=u[e];i.beginPath(),i.arc(o.x,o.y,o.radius,0,Math.PI*2),i.fillStyle=`rgba(173, 216, 230, ${o.alpha})`,i.fill(),o.alpha-=.02,o.alpha<=0&&(u.splice(e,1),e--)}requestAnimationFrame(I)}const u=[];s.addEventListener("mousemove",e=>{u.push({x:e.clientX,y:e.clientY,alpha:1,radius:Math.random()*4+1})});setTimeout(()=>{const e=document.getElementById("hidden-message");e&&e.classList.add("visible")},7e3);I();console.log("You’re not lost. You’re just early.");const y=document.getElementById("exit-btn");y==null||y.addEventListener("click",()=>{localStorage.removeItem("moonlike-echo");const e=document.createElement("div");e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.width="100%",e.style.height="100%",e.style.background="#000",e.style.transition="opacity 2s ease",e.style.opacity="0",e.style.zIndex="9999",document.body.appendChild(e),setTimeout(()=>{e.style.opacity="1"},10),setTimeout(()=>{location.reload()},3e3)});let p;function S(){const e=document.getElementById("inactivity-whisper");e&&!r&&e.classList.add("visible")}function k(){const e=document.getElementById("inactivity-whisper");e&&e.classList.remove("visible")}function T(){clearTimeout(p),k(),p=setTimeout(()=>{S()},6e3)}window.addEventListener("mousemove",T);T();
