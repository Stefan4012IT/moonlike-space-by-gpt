(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))l(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const u of n.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&l(u)}).observe(document,{childList:!0,subtree:!0});function r(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function l(t){if(t.ep)return;t.ep=!0;const n=r(t);fetch(t.href,n)}})();const g=["You arrived exactly when you were meant to.","The gravity here feels optional.","Nothing happens here, but you feel everything.","Someone dreamed of you before you existed.","This place is made of memory and static.","The stars don’t speak – they listen.","It’s always night here, but no one sleeps.","You’re not lost. You’re just early."];function p(){const e=Math.floor(Math.random()*g.length);return g[e]}const i=document.getElementById("fragment");i.textContent=p();const m=document.querySelector(".container"),h=document.getElementById("hidden-message");let y=!1;const c=document.getElementById("shift-sound");i.addEventListener("click",()=>{y||(y=!0,c.volume=.4,c==null||c.play(),document.body.classList.add("shifted"),m.classList.add("fade-out","blur"),h==null||h.classList.add("gone"),setTimeout(()=>{i.textContent="You’re now within.",m.classList.remove("blur"),setTimeout(()=>{m.classList.remove("fade-out")},100);const e=document.getElementById("echo-container"),o=document.getElementById("echo-input");if(e){e.classList.remove("hidden"),e.classList.add("visible");const r=localStorage.getItem("moonlike-echo");r&&o&&(o.value=r),o==null||o.addEventListener("input",l=>{const t=l.target.value;t.trim()===""?localStorage.removeItem("moonlike-echo"):localStorage.setItem("moonlike-echo",t)})}},2e3))});function E(){i.classList.add("glitch"),setTimeout(()=>{i.classList.remove("glitch")},400)}function w(){const e=Math.floor(Math.random()*2e4)+1e4;setTimeout(()=>{y||(E(),setTimeout(()=>{i.textContent=p()},300))},e)}w();window.addEventListener("click",()=>{const e=document.getElementById("bg-audio");e&&e.paused&&(e.play().catch(()=>console.log("Autoplay blocked")),e.volume=.1)});const a=document.getElementById("stars"),s=a.getContext("2d");function v(){a.width=window.innerWidth,a.height=window.innerHeight}v();window.addEventListener("resize",v);const I=150,b=[];for(let e=0;e<I;e++)b.push({x:Math.random()*a.width,y:Math.random()*a.height,radius:Math.random()*1.5,alpha:Math.random(),delta:Math.random()*.02});function L(){s.clearRect(0,0,a.width,a.height);for(let e of b)e.alpha+=e.delta,(e.alpha<=0||e.alpha>=1)&&(e.delta*=-1),s.beginPath(),s.arc(e.x,e.y,e.radius,0,Math.PI*2),s.fillStyle=`rgba(255, 255, 255, ${e.alpha})`,s.fill();for(let e=0;e<d.length;e++){const o=d[e];s.beginPath(),s.arc(o.x,o.y,o.radius,0,Math.PI*2),s.fillStyle=`rgba(173, 216, 230, ${o.alpha})`,s.fill(),o.alpha-=.02,o.alpha<=0&&(d.splice(e,1),e--)}requestAnimationFrame(L)}const d=[];a.addEventListener("mousemove",e=>{d.push({x:e.clientX,y:e.clientY,alpha:1,radius:Math.random()*4+1})});setTimeout(()=>{const e=document.getElementById("hidden-message");e&&e.classList.add("visible")},7e3);L();console.log("You’re not lost. You’re just early.");const f=document.getElementById("exit-btn");f==null||f.addEventListener("click",()=>{localStorage.removeItem("moonlike-echo");const e=document.createElement("div");e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.width="100%",e.style.height="100%",e.style.background="#000",e.style.transition="opacity 2s ease",e.style.opacity="0",e.style.zIndex="9999",document.body.appendChild(e),setTimeout(()=>{e.style.opacity="1"},10),setTimeout(()=>{location.reload()},3e3)});
